<Window x:Class="Sh.Autofit.New.PartsMappingUI.Views.ManufacturerExclusionDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="Manage Excluded Manufacturers"
        Height="600" Width="500"
        WindowStartupLocation="CenterOwner"
        Background="{StaticResource BackgroundBrush}"
        ResizeMode="CanResize">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <TextBlock Grid.Row="0"
                   Text="Select manufacturers to exclude from the vehicle list:"
                   FontSize="14"
                   TextWrapping="Wrap"
                   Margin="0,0,0,15"/>

        <!-- Search Box -->
        <TextBox Grid.Row="1"
                 x:Name="SearchTextBox"
                 Padding="8"
                 Margin="0,0,0,10"
                 FontSize="13"
                 TextChanged="SearchTextBox_TextChanged">
            <TextBox.Style>
                <Style TargetType="TextBox">
                    <Style.Triggers>
                        <Trigger Property="Text" Value="">
                            <Setter Property="Background">
                                <Setter.Value>
                                    <VisualBrush Stretch="None" AlignmentX="Left">
                                        <VisualBrush.Visual>
                                            <TextBlock Text="ðŸ” Search manufacturers..." Foreground="Gray" Margin="5,0,0,0"/>
                                        </VisualBrush.Visual>
                                    </VisualBrush>
                                </Setter.Value>
                            </Setter>
                        </Trigger>
                    </Style.Triggers>
                </Style>
            </TextBox.Style>
        </TextBox>

        <!-- Manufacturers List -->
        <Border Grid.Row="2"
                Background="White"
                BorderBrush="{StaticResource BorderBrush}"
                BorderThickness="1"
                CornerRadius="4"
                Padding="10">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <ItemsControl x:Name="ManufacturersItemsControl">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <CheckBox Content="{Binding ManufacturerName}"
                                      IsChecked="{Binding IsExcluded}"
                                      Margin="0,5"
                                      FontSize="13">
                                <CheckBox.ToolTip>
                                    <ToolTip>
                                        <StackPanel>
                                            <TextBlock Text="{Binding ManufacturerName}" FontWeight="Bold"/>
                                            <TextBlock Text="{Binding ShortName, StringFormat='Short: {0}'}"/>
                                            <TextBlock Text="{Binding VehicleCount, StringFormat='{}{0} vehicles'}"/>
                                        </StackPanel>
                                    </ToolTip>
                                </CheckBox.ToolTip>
                            </CheckBox>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </ScrollViewer>
        </Border>

        <!-- Buttons -->
        <StackPanel Grid.Row="3"
                    Orientation="Horizontal"
                    HorizontalAlignment="Right"
                    Margin="0,15,0,0">
            <Button Content="Select All"
                    Click="SelectAll_Click"
                    Padding="15,8"
                    Margin="0,0,10,0"/>
            <Button Content="Deselect All"
                    Click="DeselectAll_Click"
                    Padding="15,8"
                    Margin="0,0,10,0"/>
            <Button Content="Save"
                    Click="Save_Click"
                    Style="{StaticResource SuccessButton}"
                    Padding="20,8"
                    Margin="0,0,10,0"/>
            <Button Content="Cancel"
                    Click="Cancel_Click"
                    Padding="15,8"/>
        </StackPanel>
    </Grid>
</Window>
