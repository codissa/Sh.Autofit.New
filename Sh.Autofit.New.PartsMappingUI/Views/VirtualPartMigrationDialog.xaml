<Window x:Class="Sh.Autofit.New.PartsMappingUI.Views.VirtualPartMigrationDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="העברת חלק וירטואלי לחלק אמיתי" Height="500" Width="750"
        WindowStartupLocation="CenterOwner"
        Background="#ECF0F1">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="#E67E22" Padding="20">
            <StackPanel>
                <TextBlock Text="⚠️ זוהתה התאמה: חלק וירטואלי ← חלק אמיתי"
                          FontSize="18" FontWeight="Bold" Foreground="White"
                          HorizontalAlignment="Right"/>
                <TextBlock Text="חלק אמיתי עם מספר OEM תואם נמצא במלאי"
                          FontSize="12" Foreground="#ECF0F1" Margin="0,5,0,0"
                          HorizontalAlignment="Right"/>
            </StackPanel>
        </Border>

        <!-- Content -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel Margin="30,20">
                <TextBlock Text="חלק אמיתי עם מספר OEM תואם זוהה. האם להעביר את המיפויים?"
                          FontSize="14" TextWrapping="Wrap" Margin="0,0,0,20"
                          HorizontalAlignment="Right"/>

                <!-- Migration Details Box -->
                <Border Background="#FFF9E6" BorderBrush="#F39C12" BorderThickness="2"
                       Padding="20" Margin="0,0,0,20">
                    <StackPanel>
                        <!-- Virtual Part -->
                        <TextBlock Text="חלק וירטואלי (יימחק):"
                                  FontWeight="Bold" FontSize="14" Foreground="#E74C3C"
                                  HorizontalAlignment="Right" Margin="0,0,0,10"/>

                        <Grid Margin="0,0,0,15">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <TextBlock Grid.Row="0" Grid.Column="0" Text="מספר חלק:" FontWeight="Bold"
                                      Margin="10,0,0,5" HorizontalAlignment="Right"/>
                            <TextBlock Grid.Row="0" Grid.Column="1" x:Name="VirtualPartNumberText"
                                      Margin="0,0,10,5" HorizontalAlignment="Right"/>

                            <TextBlock Grid.Row="1" Grid.Column="0" Text="תיאור:" FontWeight="Bold"
                                      Margin="10,0,0,5" HorizontalAlignment="Right"/>
                            <TextBlock Grid.Row="1" Grid.Column="1" x:Name="VirtualPartNameText"
                                      Margin="0,0,10,5" HorizontalAlignment="Right"/>
                        </Grid>

                        <!-- Arrow -->
                        <TextBlock Text="⬇️ העברה ⬇️" FontSize="20" FontWeight="Bold"
                                  HorizontalAlignment="Center" Margin="0,10"/>

                        <!-- Real Part -->
                        <TextBlock Text="חלק אמיתי (יקבל את המיפויים):"
                                  FontWeight="Bold" FontSize="14" Foreground="#27AE60"
                                  HorizontalAlignment="Right" Margin="0,10,0,10"/>

                        <Grid Margin="0,0,0,15">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <TextBlock Grid.Row="0" Grid.Column="0" Text="מספר חלק:" FontWeight="Bold"
                                      Margin="10,0,0,5" HorizontalAlignment="Right"/>
                            <TextBlock Grid.Row="0" Grid.Column="1" x:Name="RealPartNumberText"
                                      Margin="0,0,10,5" HorizontalAlignment="Right"/>

                            <TextBlock Grid.Row="1" Grid.Column="0" Text="תיאור:" FontWeight="Bold"
                                      Margin="10,0,0,5" HorizontalAlignment="Right"/>
                            <TextBlock Grid.Row="1" Grid.Column="1" x:Name="RealPartNameText"
                                      Margin="0,0,10,5" HorizontalAlignment="Right"/>
                        </Grid>

                        <!-- Matched OEMs -->
                        <Border Background="White" Padding="15" CornerRadius="5" Margin="0,10,0,0">
                            <StackPanel>
                                <TextBlock Text="מספרי OEM תואמים:"
                                          FontWeight="Bold" HorizontalAlignment="Right" Margin="0,0,0,10"/>
                                <TextBlock x:Name="MatchedOemsText"
                                          TextWrapping="Wrap" HorizontalAlignment="Right"
                                          Foreground="#2980B9"/>
                            </StackPanel>
                        </Border>

                        <!-- Mappings Count -->
                        <Border Background="White" Padding="15" CornerRadius="5" Margin="0,10,0,0">
                            <StackPanel>
                                <TextBlock Text="מיפויים שיועברו:"
                                          FontWeight="Bold" HorizontalAlignment="Right" Margin="0,0,0,5"/>
                                <TextBlock HorizontalAlignment="Right">
                                    <Run x:Name="MappingsCountText" FontSize="24" FontWeight="Bold" Foreground="#E67E22"/>
                                    <Run Text=" מיפויים לרכבים"/>
                                </TextBlock>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </Border>

                <!-- Warning Box -->
                <Border Background="#E74C3C" Padding="15" CornerRadius="5">
                    <StackPanel>
                        <TextBlock Text="⚠️ אזהרה" FontWeight="Bold" FontSize="14"
                                  Foreground="White" HorizontalAlignment="Right" Margin="0,0,0,10"/>
                        <TextBlock TextWrapping="Wrap" Foreground="White" HorizontalAlignment="Right">
                            <Run Text="• החלק הוירטואלי יימחק לצמיתות"/>
                            <LineBreak/>
                            <Run Text="• כל המיפויים יועברו לחלק האמיתי"/>
                            <LineBreak/>
                            <Run Text="• הפעולה תירשם ביומן העברות"/>
                            <LineBreak/>
                            <Run Text="• לא ניתן לבטל פעולה זו"/>
                        </TextBlock>
                    </StackPanel>
                </Border>
            </StackPanel>
        </ScrollViewer>

        <!-- Buttons -->
        <Border Grid.Row="2" Background="White" Padding="20" BorderBrush="#BDC3C7" BorderThickness="0,1,0,0">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                <Button Content="✓ העבר והמחק חלק וירטואלי"
                       Click="MigrateButton_Click"
                       Background="#27AE60" Foreground="White"
                       FontSize="14" FontWeight="Bold"
                       Padding="20,10" Margin="0,0,10,0"/>

                <Button Content="✗ השאר נפרד"
                       Click="CancelButton_Click"
                       Background="#95A5A6" Foreground="White"
                       FontSize="14"
                       Padding="20,10"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>
